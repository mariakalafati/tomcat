- name: Install SonarScanner
  run: |
    curl -o sonar-scanner.zip https://binaries.sonarsource.com/Distribution/sonar-scanner-cli/sonar-scanner-cli-5.0.1.3006-linux.zip
    unzip sonar-scanner.zip
    echo "$(pwd)/sonar-scanner-5.0.1.3006-linux/bin" >> $GITHUB_PATH

- name: Run Ant Build
  run: |
    ant -noinput clean all

- name: Run SonarScanner
  env:
    SONAR_TOKEN: ${{ secrets.SONAR_TOKEN }}
  run: |
    sonar-scanner \
      -Dsonar.projectKey=mariakalafati_tomcat \
      -Dsonar.organization=mariakalafati \
      -Dsonar.host.url=https://sonarcloud.io \
      -Dsonar.sources=src \
      -Dsonar.language=java \
      -Dsonar.java.binaries=output/classes
    
